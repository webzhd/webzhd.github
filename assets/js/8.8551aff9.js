(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{122:function(t,s,a){"use strict";a.r(s);var n=a(4),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"this关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this关键字","aria-hidden":"true"}},[t._v("#")]),t._v(" this关键字")]),t._v(" "),a("h2",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),a("h2",{attrs:{id:"为什么使用this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用this","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么使用this")]),t._v(" "),a("blockquote",[a("p",[t._v("this 提供了一种更优雅的方式来隐式“ 传递” 一个对象引用， 因此可以将 API 设计\n得更加简洁并且易于复用")])]),t._v(" "),a("h2",{attrs:{id:"this指向的是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#this指向的是什么","aria-hidden":"true"}},[t._v("#")]),t._v(" this指向的是什么")]),t._v(" "),a("blockquote",[a("p",[t._v("this 的绑定和函数声明的位置没有任何关系， 只取决于函数的调用方式。this是在函数被调用时发生的绑定， 它指向什么完全取决于函数在哪里被调用。")])]),t._v(" "),a("h2",{attrs:{id:"调用位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用位置","aria-hidden":"true"}},[t._v("#")]),t._v(" 调用位置")]),t._v(" "),a("blockquote",[a("p",[t._v("调用位置就是函数在代码中被调用的位置（ 而不是声明的位置）;只有仔细分析调用位置才能回答这个问题： 这个 this 到底引\n用的是什么？")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("独立函数调用。 this指向全局对象，如果使用严格模式（ strict mode）， 那么全局对象将无法使用默认绑定， 因此 this 会绑定到 undefined")])]),t._v(" "),a("li",[a("p",[t._v("隐式绑定。 调用位置是否有上下文对象， 或者说是否被某个对象拥有或者包含 ， this指向这个对象")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("foo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\na"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    foo"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" foo\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobj"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("foo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("隐试丢失。 最常见的隐试丢失")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("foo")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    foo"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" foo\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bar "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 函数别名！")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"oops, global"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// a 是全局对象的属性")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("bar")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "oops, global"')]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("显示绑定this。")])]),t._v(" "),a("blockquote",[a("p",[t._v("call()和apply() 都能调用函数，并且改变函数this指向;")])]),t._v(" "),a("blockquote",[a("p",[t._v("bind内置方法会返回一个新函数，并绑定好this;")])]),t._v(" "),a("blockquote",[a("p",[t._v("new绑定。把构造函数的this绑定到构造的新对象上;")])]),t._v(" "),a("h2",{attrs:{id:"综上-判断this的步骤总结为"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#综上-判断this的步骤总结为","aria-hidden":"true"}},[t._v("#")]),t._v(" 综上 判断this的步骤总结为")]),t._v(" "),a("ol",[a("li",[t._v("函数是否在 new 中调用（ new 绑定） ？ 如果是的话 this 绑定的是新创建的对象。\nvar bar = new foo()")]),t._v(" "),a("li",[t._v("函数是否通过 call、 apply（ 显式绑定） 或者硬绑定调用？ 如果是的话， this 绑定的是\n指定的对象。\nvar bar = foo.call(obj2)")]),t._v(" "),a("li",[t._v("函数是否在某个上下文对象中调用（ 隐式绑定） ？ 如果是的话， this 绑定的是那个上\n下文对象。\nvar bar = obj1.foo()")]),t._v(" "),a("li",[t._v("如果都不是的话， 使用默认绑定。 如果在严格模式下， 就绑定到 undefined， 否则绑定到\n全局对象。\nvar bar = foo()")])]),t._v(" "),a("h2",{attrs:{id:"绑定例外"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#绑定例外","aria-hidden":"true"}},[t._v("#")]),t._v(" 绑定例外")]),t._v(" "),a("ol",[a("li",[t._v("把 null 或者 undefined 作为 this 的绑定对象传入 call、 apply 或者 bind， 这些值在调用时会被忽略， 实际应用的是默认绑定规则")])])])}],!1,null,null,null);s.default=o.exports}}]);